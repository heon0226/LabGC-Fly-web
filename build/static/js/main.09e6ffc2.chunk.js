(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{1366:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(86),c=a.n(o),i=a(112),l=a(35),s=(a(593),a(581)),u={width:"auto",border:"1px solid rgba(0, 0, 0, .4)",display:"flex",margin:"5% auto",padding:"10px",flexDirection:"column",justifyContent:"space-around",backgroundColor:"whitesmoke"},m=function(e){return r.a.createElement(s.a,{style:u,className:"justify-content-md-center"},e.children)},d=a(5),f=a(1376),E=a(1375),p={fieldset:{width:"100%",minHeight:"70%",display:"inline",border:"1px solid rgba(0, 0, 0, .4)",padding:"10px",margin:"40px 0px"},legend:{width:"auto",marginLeft:"5px",padding:"0 10px",fontSize:"20px"}},g=function(e){return r.a.createElement("fieldset",{style:p.fieldset},r.a.createElement("legend",{style:p.legend},e.title),e.children)},h={fontSize:"16px",fontFamily:"Consolas, sans-serif",margin:"5px auto auto auto",minHeight:"25px"},b={fontSize:"16px",fontFamily:"Consolas, sans-serif",border:"1px solid rgba(0, 0, 0, .4)",margin:"5px auto",minWidth:"50px",minHeight:"25px",textAlign:"center"},y={width:"90%",margin:"auto",textAlign:"center",border:"1px solid rgba(0, 0, 0, .4)",fontFamily:"Consolas, sans-serif",tableLayout:"fixed"},v={emptyCells:"show",border:"1px solid rgba(0, 0, 0, .4)",fontFamily:"Consolas, sans-serif"},j={emptyCells:"show",border:"1px solid rgba(0, 0, 0, .4)",fontFamily:"Consolas, sans-serif",backgroundColor:"white"},O={border:"1px solid rgba(0, 0, 0, .3)",width:"100px",margin:"10px",outlineColor:"rgba(0, 0, 0, .4)"},S={border:"1px solid #adadad",backgroundColor:"#e1e1e1",textAlign:"center",padding:"5px",margin:"5px 10px"},C={height:"10px",overflowY:"scroll"},x={backgroundColor:"white"},w={showLegend:!0,xaxis:{rangemode:"tozero",title:"PCR Cycles"},yaxis:{rangemode:"nonnegative",title:"Sensor Value",range:[0,4096]}},_={showLegend:!0,xaxis:{rangemode:"tozero",title:"Time"},yaxis:{rangemode:"tozero",title:"Temperture"}},k={height:"30rem"},N={width:"100%",height:"100%"},T=function(e){return r.a.createElement(E.a,null,r.a.createElement(f.a,null,r.a.createElement(E.a,{style:h},"Serial Number"),r.a.createElement(E.a,{style:b},e.serialNumber)),r.a.createElement(f.a,null,r.a.createElement(E.a,{style:h},"Status"),r.a.createElement(E.a,{style:b},e.isConnected?"Connected":"Disconnected")))},H=function(e){return r.a.createElement(E.a,null,r.a.createElement(f.a,null,r.a.createElement(E.a,{style:h},"Protocol"),r.a.createElement(E.a,{style:b},e.protocolName)),r.a.createElement(f.a,null,r.a.createElement(E.a,{style:h},"State"),r.a.createElement(E.a,{style:b},e.state)),r.a.createElement(f.a,null,r.a.createElement(E.a,{style:h},"Total Sec"),r.a.createElement(E.a,{style:b},e.remainingTotalSec)))},P=a(213),F=a.n(P),R=a(214),z=a.n(R),I=z()(F.a),L={width:"100%"},A={showLegend:!0,xaxis:{rangemode:"tozero",title:"PCR Cycles",range:[0,40]},yaxis:{rangemode:"nonnegative",title:"Sensor Value",range:[0,4096]}},G={responsive:!1,displaylogo:!0,scrollZoom:!1,staticPlot:!0,displayModeBar:!1},B=["FAM","HEX","ROX","CY5"],D=["#105f89","#54ab48","#80c13f","#d92623"],M=function(e){return r.a.createElement(I,{style:L,layout:A,config:G,data:function(t){var a=[];return e.displayFilters.forEach((function(e,n){e&&a.push({name:B[n],x:t[n].length,y:t[n],type:"line",line:{color:D[n]}})})),a}(e.photodiodes)})},X=function(e){return r.a.createElement(E.a,null,r.a.createElement(f.a,null,r.a.createElement(E.a,{style:h},"\xa0")),r.a.createElement(f.a,null,r.a.createElement(E.a,{style:h},"Temperature"),r.a.createElement(E.a,{style:b},e.temperature+"\u2103")))},Y=function(e){return r.a.createElement(E.a,{md:"auto",xs:"auto"},r.a.createElement(f.a,{className:"justify-content-center",style:h}," ",["FAM","HEX","ROX","CY5"][e.index]," "),r.a.createElement(f.a,{className:"justify-content-center"},r.a.createElement("img",{src:function(){if(!e.isShow)return"/static/img/off.bmp";switch(e.filter){case"FAM":return"/static/img/fam.bmp";case"HEX":return"/static/img/hex.bmp";case"ROX":return"/static/img/rox.bmp";case"CY5":return"/static/img/cy5.bmp";default:return"/static/img/off.bmp"}}(),style:S,id:e.index,onClick:e.displayHandler})),r.a.createElement(f.a,{className:"justify-content-center",style:b,disabled:e.isShow},"\xa0",e.resultCt?e.resultCt:"","\xa0"))},J="http://"+a(1361).hostname()+":6009",K=J+"/api/task/status",W=J+"/api/task/start",V=J+"/api/task/stop",q=J+"/api/protocol/list",U=J+"/api/protocol/select",Z=J+"/api/protocol/create",Q=J+"/api/protocol/edit",$=J+"/api/protocol/delete",ee=J+"/api/history/list",te=J+"/api/history/graphdata",ae=J+"/api/history/tempdata",ne=J+"/api/magneto/run",re=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;fetch(ne,{method:"POST",headers:{"Content-Type":"text/plain"},body:e}).then((function(e){return e.json()})).then((function(e){"ok"===e.result?null!=t&&t(e.data):alert(e.reason)}))},oe=function(){return re},ce={margin:"10px auto",fontFamily:"Consolas, sans-serif"},ie={fontFamily:"Consolas, sans-serif"},le=function(e){var t=Object(n.useState)([]),a=Object(d.a)(t,2),o=a[0],c=a[1],i=function(e){fetch(U,{method:"POST",headers:{"Content-Type":"text/plain"},body:e.toString()}).then((function(e){return e.json()})).then((function(e){"ok"===e.result||alert(e.reason)}))};return Object(n.useEffect)((function(){fetch(q,{method:"POST"}).then((function(e){return e.json()})).then((function(e){e.result,c(e.protocols),1===e.protocols.length&&i(e.protocols[0].id)}))}),[]),r.a.createElement(E.a,{as:"select",md:"8",xs:"8",style:ce,onChange:function(e){var t=e.target.value;i(t)}},o.map((function(t,a){return r.a.createElement("option",{key:a,style:ie,value:t.id,selected:t.name==e.protocolName},t.name)})))},se=function(e){var t=Object(n.useState)([{},{},{},{}]),a=Object(d.a)(t,2),o=a[0];a[1];return Object(n.useEffect)((function(){var t=e.results.filter((function(e){return e}));e.filterNames.filter((function(e){return e})).forEach((function(e,a){o[a].name=e,o[a].result=t[a]?t[a]:""}))}),[e.results,e.filterNames]),r.a.createElement(E.a,null,r.a.createElement("table",{style:y},r.a.createElement("thead",null,r.a.createElement("th",{style:v},"Target"),r.a.createElement("th",{style:v},"Result")),r.a.createElement("tbody",null,o.map((function(e,t){return r.a.createElement("tr",{key:t,style:v},r.a.createElement("td",{style:v},"\xa0",e.name?e.name:"","\xa0"),r.a.createElement("td",{style:j},"\xa0",e.result?e.result:"","\xa0"))})))))},ue=function(){var e=Object(l.k)(),t=Object(n.useState)(!1),a=Object(d.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(""),u=Object(d.a)(i,2),m=u[0],p=u[1],h=Object(n.useState)(["","","",""]),b=Object(d.a)(h,2),y=b[0],v=b[1],j=Object(n.useState)(["","","",""]),S=Object(d.a)(j,2),C=(S[0],S[1]),x=Object(n.useState)(["","","",""]),w=Object(d.a)(x,2),_=w[0],k=w[1],N=Object(n.useState)([!0,!0,!0,!0]),P=Object(d.a)(N,2),F=P[0],R=P[1],z=Object(n.useState)(["","","",""]),I=Object(d.a)(z,2),L=I[0],A=I[1],G=Object(n.useState)(["","","",""]),B=Object(d.a)(G,2),D=B[0],J=B[1],q=Object(n.useState)(""),U=Object(d.a)(q,2),Z=U[0],Q=U[1],$=Object(n.useState)([]),ee=Object(d.a)($,2),te=(ee[0],ee[1]),ae=Object(n.useState)([]),ne=Object(d.a)(ae,2),re=(ne[0],ne[1]),oe=Object(n.useState)([[],[],[],[]]),ce=Object(d.a)(oe,2),ie=ce[0],ue=ce[1],me=Object(n.useState)(0),de=Object(d.a)(me,2),fe=de[0],Ee=de[1],pe=Object(n.useState)(""),ge=Object(d.a)(pe,2),he=ge[0],be=ge[1],ye=Object(n.useState)(!1),ve=Object(d.a)(ye,2),je=ve[0],Oe=ve[1],Se=Object(n.useState)(0),Ce=Object(d.a)(Se,2),xe=(Ce[0],Ce[1]),we=Object(n.useState)(0),_e=Object(d.a)(we,2),ke=_e[0],Ne=_e[1],Te=Object(n.useState)(0),He=Object(d.a)(Te,2),Pe=(He[0],He[1]),Fe=Object(n.useState)(0),Re=Object(d.a)(Fe,2),ze=(Re[0],Re[1]),Ie=Object(n.useState)(0),Le=Object(d.a)(Ie,2),Ae=(Le[0],Le[1]),Ge=Object(n.useState)(0),Be=Object(d.a)(Ge,2),De=(Be[0],Be[1]),Me=function(e){var t=e.target.id;R(F.map((function(e,a){return a==t?!e:e})))},Xe=function(){fetch(K,{method:"POST"}).then((function(e){return e.json()})).then((function(e){c(e.result);var t=e.data;p(t.serialNumber),v(t.filters),C(t.filterCts),k(t.filterNames),A(t.result),J(t.resultCts),Q(t.protocolName),te(t.protocols),re(t.magnetoProtocols),ue(t.photodiodes),Ee(t.temperature),be(t.stateString),Oe(t.running),xe(t.remainSec),Ne(t.remainingTotalSec),Pe(t.elapsedTime),ze(t.remainingGotoCount),Ae(t.totalActionNumber),De(t.currentActionNumber)}))};return Object(n.useEffect)((function(){var e=setInterval(Xe,500);return function(){clearInterval(e)}}),[]),r.a.createElement(s.a,null,r.a.createElement(f.a,{className:"justify-content-center"},r.a.createElement(E.a,{md:"5"},r.a.createElement(g,{title:"Connection"},r.a.createElement(T,{serialNumber:m,isConnected:o}))),r.a.createElement(E.a,{md:"5"},r.a.createElement(g,{title:"Progress"},r.a.createElement(H,{protocolName:Z,state:he,remainingTotalSec:ke})))),r.a.createElement(f.a,{className:"justify-content-center"},r.a.createElement(E.a,{md:"10",xs:"10"},r.a.createElement(M,{photodiodes:ie,displayFilters:F}))),r.a.createElement(f.a,{className:"justify-content-center"},r.a.createElement(E.a,{md:"4"},r.a.createElement(g,{title:"Device"},r.a.createElement(X,{temperature:fe}))),r.a.createElement(E.a,{md:{span:"5",offset:"1"}},r.a.createElement(g,{title:"CT Value"},r.a.createElement(f.a,{className:"justify-content-center"},y.map((function(e,t){return r.a.createElement(Y,{key:t,isShow:F[t],displayHandler:Me,filter:e,index:t,resultCt:D[t]})})))))),r.a.createElement(f.a,{className:"justify-content-center"},r.a.createElement(E.a,{md:"4"},r.a.createElement(g,{title:"Protocol"},r.a.createElement(f.a,{className:"justify-content-center"},r.a.createElement(le,null)),r.a.createElement(f.a,{className:"justify-content-center"},r.a.createElement(E.a,{as:"button",md:"8",xs:"8",style:O,onClick:function(e){fetch(je?V:W,{method:"POST"}).then((function(e){return e.json()})).then((function(e){}))}}," ",je?"Stop":"Start"," ")),r.a.createElement(f.a,{className:"justify-content-center"},r.a.createElement(E.a,{as:"button",md:"8",xs:"8",style:O,onClick:function(t){je?alert("pcr is running"):e.push("setup")},disabled:je}," Setup ")))),r.a.createElement(E.a,{md:{span:"5",offset:"1"}},r.a.createElement(g,{title:"Result"},r.a.createElement(f.a,{className:"justify-content-center"},r.a.createElement(se,{filterNames:_,results:L}))))))},me=a(1384),de={selected:{backgroundColor:"rgba(0, 0, 0, .4)",fontFamily:"Consolas, sans-serif",padding:"5px",border:"none",borderRadius:"0px"},default:{backgroundColor:"#FFF",fontFamily:"Consolas, sans-serif",padding:"5px",border:"none",borderRadius:"0px"},listGroup:{width:"100%",height:"120px",overflowY:"scroll",backgroundColor:"white",borderRadius:"0px",margin:"10px"},button:{width:"100%",margin:"10px",justifyContent:"center"}},fe=function(e){return r.a.createElement(me.a,{style:de.listGroup},e.protocols.map((function(t,a){return r.a.createElement(me.a.Item,{key:a,id:a,onClick:e.handler,style:t.selected?de.selected:de.default},t.name)})))},Ee=a(1377),pe=a(1381),ge=z()(F.a),he={responsive:!1,displaylogo:!0,scrollZoom:!1,staticPlot:!0,displayModeBar:!1},be=function(e){var t=Object(n.useState)([]),a=Object(d.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)([]),l=Object(d.a)(i,2),u=l[0],m=l[1];return Object(n.useEffect)((function(){-1!==e.history.id&&fetch(ae,{method:"POST",headers:{"Content-Type":"text/plain"},body:e.history.id.toString()}).then((function(e){return e.json()})).then((function(e){return JSON.parse(e.tempData)})).then((function(e){return function(e){var t=[],a=[];return e.forEach((function(e){var n=e.split("\t");t.push(n[0]),a.push(n[1])})),{name:"temparture",x:t,y:a,type:"line",line:{color:"#45B5C6"}}}(e)})).then((function(e){return c(e)})),-1!==e.history.id&&fetch(te,{method:"POST",headers:{"Content-Type":"text/plain"},body:e.history.id.toString()}).then((function(e){return e.json()})).then((function(e){return JSON.parse(e.graphData)})).then((function(e){return function(e){var t=["#105f89","#54ab48","#80c13f","#d92623"];return e=["FAM","HEX","ROX","CY5"].map((function(a,n){return{name:a,x:e[n].length,y:e[n],type:"line",line:{color:t[n]}}}))}(e)})).then((function(e){return m(e)}))}),[e.show]),r.a.createElement(pe.a,Object.assign({"aria-labelledby":"contained-modal-title-vcenter",size:"xl"},e),r.a.createElement(pe.a.Header,null,e.history.date),r.a.createElement(pe.a.Body,null,r.a.createElement(s.a,null,r.a.createElement(f.a,{className:"justify-content-center"},r.a.createElement(E.a,{md:"10",sm:"12",style:k},r.a.createElement(ge,{style:N,data:u,layout:w,config:he})),r.a.createElement(E.a,{md:"10",sm:"12",style:k},r.a.createElement(ge,{style:N,data:o,layout:_,config:he}))))),r.a.createElement(pe.a.Footer,null,r.a.createElement("button",{onClick:e.onHide},"Close")))},ye={height:"250px",overflowY:"scroll"},ve={fontFamily:"Consolas, sans-serif"},je={id:-1,date:"",target:"",filter:"",ct:"",result:""},Oe=function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(je),l=Object(d.a)(i,2),s=l[0],u=l[1];return r.a.createElement(E.a,{style:ye},r.a.createElement(Ee.a,{hover:!0,bordered:!0,size:"sm",style:C},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,"Date Time"),r.a.createElement("th",null,"Target"),r.a.createElement("th",null,"Filter"),r.a.createElement("th",null,"CT Value"),r.a.createElement("th",null,"Result"))),r.a.createElement("tbody",{style:x},e.histories.map((function(t,a){return r.a.createElement("tr",{key:a,onClick:function(t){return function(t,a){u(e.histories[a]),c(!0)}(0,a)}},r.a.createElement("td",{style:ve},"#"+a),r.a.createElement("td",{style:ve},t.date),r.a.createElement("td",{style:ve},t.target.join(", ")),r.a.createElement("td",{style:ve},t.filter.join(", ")),r.a.createElement("td",{style:ve},t.ct.join(", ")),r.a.createElement("td",{style:ve},t.result.join(", ")))}))),r.a.createElement(be,{onHide:function(){c(!1)},history:s,show:o})))},Se=function(){var e=Object(l.k)(),t=Object(n.useState)([]),a=Object(d.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)([]),u=Object(d.a)(i,2),m=u[0],p=u[1],h=Object(n.useState)(-1),b=Object(d.a)(h,2),y=b[0],v=b[1],j=function(){fetch(q,{method:"POST"}).then((function(e){return e.json()})).then((function(e){"ok"===e.result?(e.protocols.forEach((function(e){e.selected=!1})),c(e.protocols)):alert("You need to make the protocol first.")}))};return Object(n.useEffect)((function(){j(),fetch(ee,{method:"POST"}).then((function(e){return e.json()})).then((function(e){if("ok"===e.result){var t=e.histories;t.forEach((function(e){e.target=JSON.parse(e.target).filter((function(e){return e})),e.filter=JSON.parse(e.filter).filter((function(e){return e})),e.result=JSON.parse(e.result).filter((function(e){return e})),e.ct=JSON.parse(e.ct).filter((function(e){return e}))})),p(t)}}))}),[]),r.a.createElement(s.a,null,r.a.createElement(f.a,{className:"justify-content-center"},r.a.createElement(E.a,{md:"9"},r.a.createElement(g,{title:"Protocol Manager"},r.a.createElement(f.a,null,r.a.createElement(E.a,{md:"8",xs:"8"},r.a.createElement(fe,{protocols:o,handler:function(e){var t=e.target.id;-1===y?(o[t].selected=!0,v(t)):y===t?(o[y].selected=!1,v(-1)):(o[y].selected=!1,o[t].selected=!0,v(t))}})),r.a.createElement(E.a,{md:{span:"2",offset:"1"},xs:"auto"},r.a.createElement(f.a,{className:"justify-content-center"},r.a.createElement(E.a,{as:"button",style:O,onClick:function(t){e.push("editor/new")}},"Add")),r.a.createElement(f.a,{className:"justify-content-center"},r.a.createElement(E.a,{as:"button",style:O,onClick:function(t){-1===y?alert("You need to select the protocol first."):e.push("editor/"+encodeURIComponent(o[y].name))}},"Edit")),r.a.createElement(f.a,{className:"justify-content-center"},r.a.createElement(E.a,{as:"button",style:O,onClick:function(e){if(-1!==y){var t=o[y].name,a=o[y].id;window.confirm("confirm to delete this protocol(".concat(t,")"))&&fetch($,{method:"POST",headers:{"Content-Type":"text/plain"},body:a.toString()}).then((function(e){return e.json()})).then((function(e){alert("complete to delete protocol(".concat(t,")")),j()}))}else alert("You need to select the protocol first.")}},"Delete"))))))),r.a.createElement(f.a,{className:"justify-content-md-center"},r.a.createElement(E.a,{md:"9"},r.a.createElement(g,{title:"History"},r.a.createElement(Oe,{histories:m})))),r.a.createElement(f.a,{style:{justifyContent:"center"}},r.a.createElement("button",{style:O,onClick:function(){return e.replace("")}},"Back")))},Ce={textarea:{resize:"none",outline:"none",fontSize:"16px",padding:"5px 10px",fontFamily:"Consolas, sans-serif",width:"100%",border:"1px solid rgba(0, 0, 0, .4)"}},xe=function(e){return r.a.createElement("textarea",{required:!0,cols:"60",rows:e.rows||"10",name:e.name,index:0,value:e.protocol,style:Ce.textarea,onKeyDown:function(e){if(9===e.keyCode){e.preventDefault();var t=e.target.value,a=e.target.selectionStart,n=e.target.selectionEnd;return e.target.value=t.substring(0,a)+"\t"+t.substring(n),e.target.selectionStart=e.target.selectionEnd=a+1,!1}if(13===e.keyCode){var r=e.target.value.split("\n").map((function(e){return e.trim()}));e.target.value=r.join("\n")}},onChange:e.handler})},we={form:{margin:"auto 10px"},text:{fontSize:"14px",fontWeight:"600",fontFamily:"Consolas, sans-serif",margin:"auto"},image:{border:"1px solid #adadad",backgroundColor:"#e1e1e1",textAlign:"center",padding:"5px",margin:"5px 10px"},input:{width:"80px",height:"30px",padding:"3px",margin:"5px 0px",outline:"none"}},_e=function(e){return r.a.createElement(E.a,{ms:"auto",xs:"auto",style:we.form},r.a.createElement(f.a,null,r.a.createElement("span",{style:we.text},e.filterType),r.a.createElement("input",{type:"text",style:we.input,name:e.filterType,value:e.filterName,onChange:e.filterNamesHandler,disabled:!e.filter})),r.a.createElement(f.a,null,r.a.createElement("img",{style:we.image,name:e.filterType,src:function(){if(!e.filter)return"/static/img/off.bmp";switch(e.filterType){case"FAM":return"/static/img/fam.bmp";case"HEX":return"/static/img/hex.bmp";case"ROX":return"/static/img/rox.bmp";case"CY5":return"/static/img/cy5.bmp";default:return"/static/img/off.bmp"}}(),onClick:e.filtersHandler}),r.a.createElement("input",{type:"number",min:"0",style:we.input,name:e.filterType,value:e.filterCt,onChange:e.filterCtsHandler,disabled:!e.filter})))},ke={text:{display:"flex",justifyContent:"center",textAlign:"center",fontWeight:"500",margin:"auto 0px"},input:{height:"30px",fontSize:"0.8em",fontWeight:"600",fontFamily:"Consolas, sans-serif",padding:"2px 5px",margin:"auto 20px auto 0px",outline:"none"},button:{border:"1px solid rgba(0, 0, 0, .3)",width:"100px",margin:"20px 30px",outlineColor:"rgba(0, 0, 0, .4)"},form:{display:"inline",margin:"auto 10px"}},Ne=function(e){var t=Object(l.k)(),a=["FAM","HEX","ROX","CY5"],o="new"!==e.match.params.name,c=Object(n.useState)(!1),i=Object(d.a)(c,2),u=i[0],m=i[1],p=Object(n.useState)(-1),h=Object(d.a)(p,2),b=h[0],y=h[1],v=Object(n.useState)(""),j=Object(d.a)(v,2),O=j[0],S=j[1],C=Object(n.useState)(""),x=Object(d.a)(C,2),w=x[0],_=x[1],k=Object(n.useState)(""),N=Object(d.a)(k,2),T=N[0],H=N[1],P=Object(n.useState)([!0,!0,!0,!0]),F=Object(d.a)(P,2),R=F[0],z=F[1],I=Object(n.useState)([38,38,38,38]),L=Object(d.a)(I,2),A=L[0],G=L[1],B=Object(n.useState)(["","","",""]),D=Object(d.a)(B,2),M=D[0],X=D[1],Y=function(e){var t=e.target.name;z(R.map((function(e,n){return a[n]===t?!e:e})))},J=function(e){var t=e.target.name,n=e.target.value;G(A.map((function(e,r){return a[r]===t?n:e})))},K=function(e){var t=e.target.name,n=e.target.value;X(M.map((function(e,r){return a[r]===t?n:e})))},W=function(e){fetch(q,{method:"POST"}).then((function(e){return e.json()})).then((function(t){return t.protocols.filter((function(t){return t.name===e}))[0]})).then((function(e){y(e.id?e.id:-1),S(e.protocolName),_(function(e){var t=[];return e.forEach((function(e){var a=e.label,n=Number(e.temp).toFixed(0),r=e.time;"SHOT"==a?t.push(a):t.push([a,n,r].join("\t"))})),t.join("\r\n")}(JSON.parse(e.protocol))),H(JSON.parse(e.magnetoProtocol).join("\r\n"));var t=function(e,t,n){var r=[!1,!1,!1,!1],o=["","","",""],c=[38,38,38,38];return 4!==e.lenght&&e.forEach((function(e,i){var l=a.findIndex((function(t){return t===e}));r[l]=!0,o[l]=t[i],c[l]=n[i]})),{filters:r,filterNames:o,filterCts:c}}(e.filters.split(", "),e.filterNames.split(", "),e.filterCts.split(", ")),n=t.filters,r=t.filterNames,o=t.filterCts;z(n),X(r),G(o)}))};return Object(n.useEffect)((function(){if(o){var t=decodeURIComponent(e.match.params.name);W(t),S(t)}}),[]),r.a.createElement(s.a,null,r.a.createElement(f.a,{className:"justify-content-md-center"},r.a.createElement(E.a,{md:"auto"},r.a.createElement(g,{title:"Filter(Label, CT)"},r.a.createElement(f.a,{className:"justify-content-center"},a.map((function(e,t){return r.a.createElement(_e,{key:t,filter:R[t],filterType:e,filterName:M[t],filterCt:A[t],filtersHandler:Y,filterCtsHandler:J,filterNamesHandler:K})}))))),r.a.createElement(E.a,{lg:4,md:3,style:ke.form},r.a.createElement(f.a,{className:"justify-content-center"},r.a.createElement(E.a,{md:"auto",xs:"5",style:ke.text},"Protocol Name :"),r.a.createElement(E.a,{md:"auto",xs:"5",as:"input",type:"text",style:ke.input,onChange:function(e){return S(e.target.value)},value:O,disabled:o}),r.a.createElement(E.a,{lg:"auto",md:"auto",xs:"12"},r.a.createElement("button",{style:ke.button,onClick:function(e){m(!0);var n=[],r=[],c=[],i=[];R.forEach((function(e,t){e&&(r.push(a[t]),c.push(M[t].trim()),i.push(A[t]))})),n.push(o?b:O),n.push(r.join(", ").trim()),n.push(c.join(", ").trim()),n.push(i.join(", ").trim()),w.split("\n").forEach((function(e){return n.push(e.trim())})),n.push("#"),T.split("\n").forEach((function(e){return n.push(e.trim())})),fetch(o?Q:Z,{method:"POST",headers:{"Content-Type":"text/plain"},body:n.join("\r\n").toString()}).then((function(e){return e.json()})).then((function(e){"ok"===e.result?t.replace("/setup"):alert(e.reason)})),m(!1)},disabled:u},"Save"),r.a.createElement("button",{style:ke.button,onClick:function(){t.replace("/setup")}},"Cancel"))))),r.a.createElement(f.a,{className:"justify-content-center"},r.a.createElement(E.a,{lg:"6",md:"5",sm:4},r.a.createElement(g,{title:"PCR Protocol"},r.a.createElement(xe,{protocol:w,handler:function(e){return _(e.target.value)}}))),r.a.createElement(E.a,{lg:"6",md:"5",sm:4},r.a.createElement(g,{title:"Magneto Protocol"},r.a.createElement(xe,{protocol:T,handler:function(e){return H(e.target.value)}})))))},Te={border:"1px solid rgba(0, 0, 0, .4)",borderRadius:"10px",marginBottom:"12px",backgroundColor:"whitesmoke"},He=function(e){var t=e.title,a=e.children;return r.a.createElement(s.a,{style:Te,className:"p-2 mb-10 rounded-3"},r.a.createElement("h5",null,t),a)},Pe=a(1378),Fe=a(1379),Re=a(1383),ze=a(1380),Ie=function(e){var t=e.running,a=Object(n.useState)("chamber goto 3"),o=Object(d.a)(a,2),c=o[0],i=o[1],l=oe();return r.a.createElement(He,{title:"Command"},r.a.createElement(Pe.a,null,t&&r.a.createElement(Fe.a,{variant:"info",size:"lg"},"running"),!t&&r.a.createElement(Fe.a,{variant:"light",size:"lg"},"ready"),r.a.createElement(Re.a,{placeholder:"command",as:"input",value:c,onChange:function(e){return i(e.target.value)}}),r.a.createElement(ze.a,{variant:t?"outline-secondary":"secondary",disabled:t,onClick:function(e){l(c)}},"Run"),r.a.createElement(ze.a,{variant:"secondary",onClick:function(e){l("stop")}},"Stop")))},Le=function(e){var t=e.running,a=Object(n.useState)("home\nmagnet off\ngoto 11\npumping down full\npumping up 900\npumping down full\npumping sup 900\npumping sdown full\nmagnet on\npumping sdown 300\nwaiting 5"),o=Object(d.a)(a,2),c=o[0],i=o[1],l=oe();return r.a.createElement(He,{title:"Protocol"},r.a.createElement(Re.a,{as:"textarea",widdth:"100%",required:!0,rows:"10",value:c,onKeyDown:function(e){if(9===e.keyCode){e.preventDefault();var t=e.target.value,a=e.target.selectionStart,n=e.target.selectionEnd;return e.target.value=t.substring(0,a)+"\t"+t.substring(n),e.target.selectionStart=e.target.selectionEnd=a+1,!1}if(13===e.keyCode){var r=e.target.value.split("\n").map((function(e){return e.trim()}));e.target.value=r.join("\n")}},onChange:function(e){return i(e.target.value)}}),t&&r.a.createElement(Fe.a,{variant:"info",size:"lg"},"running"),!t&&r.a.createElement(Fe.a,{variant:"light",size:"lg"},"ready"),r.a.createElement(ze.a,{variant:t?"outline-secondary":"secondary",disabled:t,onClick:function(e){l("protocol_check "+c,(function(){return alert("checked, ok")}))}},"Check"),r.a.createElement(ze.a,{variant:t?"outline-secondary":"secondary",disabled:t,onClick:function(e){l("protocol_run "+c)}},"Run"),r.a.createElement(ze.a,{variant:"secondary",onClick:function(e){l("stop")}},"Stop"))},Ae=function(e){var t=e.children;return r.a.createElement(He,{title:"Status"},t)},Ge=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(""),i=Object(d.a)(c,2),l=i[0],u=i[1],m=oe(),p=function(){m("get_status",(function(e){o(e.running),u(e.runningCommand)}))};return Object(n.useEffect)((function(){var e=setInterval(p,500);return function(){clearInterval(e)}}),[]),r.a.createElement(s.a,null,r.a.createElement(f.a,{className:"justify-content-center"},r.a.createElement(E.a,{md:"6"},r.a.createElement(Ie,{running:a})),r.a.createElement(E.a,{md:"6"},r.a.createElement(Ae,null,"running command: ",l)),r.a.createElement(E.a,{md:"6"},r.a.createElement(Le,{running:a}))))},Be=function(e){var t=e.status;return r.a.createElement("div",null,"status:",r.a.createElement(Fe.a,{variant:1&t&&"warning"},"stop_l"),r.a.createElement(Fe.a,{variant:2&t&&"warning"},"stop_r"),r.a.createElement(Fe.a,{variant:4&t&&"warning"},"latch_l"),r.a.createElement(Fe.a,{variant:8&t&&"warning"},"latch_r"),r.a.createElement(Fe.a,{variant:16&t&&"warning"},"ev_stop_l"),r.a.createElement(Fe.a,{variant:32&t&&"warning"},"ev_stop_r"),r.a.createElement(Fe.a,{variant:64&t&&"warning"},"ev_stop_sg"),r.a.createElement(Fe.a,{variant:128&t&&"warning"},"ev_pos_reached"),r.a.createElement(Fe.a,{variant:256&t&&"warning"},"velocity_reached"),r.a.createElement(Fe.a,{variant:512&t&&"warning"},"position_reached"),r.a.createElement(Fe.a,{variant:1024&t&&"warning"},"vzero"),r.a.createElement(Fe.a,{variant:2048&t&&"warning"},"t_zerowait_active"),r.a.createElement(Fe.a,{variant:4096&t&&"warning"},"second_move"),r.a.createElement(Fe.a,{variant:8192&t&&"warning"},"sg"))},De=function(e){var t=e.switch_mode;return r.a.createElement("div",null,"switch_mode:",r.a.createElement(Fe.a,{variant:1&t&&"warning"},"en_stop_l"),r.a.createElement(Fe.a,{variant:2&t&&"warning"},"en_stop_r"),r.a.createElement(Fe.a,{variant:4&t&&"warning"},"pol_stop_l"),r.a.createElement(Fe.a,{variant:8&t&&"warning"},"pol_stop_r"),r.a.createElement(Fe.a,{variant:16&t&&"warning"},"swap_lr"),r.a.createElement(Fe.a,{variant:32&t&&"warning"},"latch_l_active"),r.a.createElement(Fe.a,{variant:64&t&&"warning"},"latch_l_inactive"),r.a.createElement(Fe.a,{variant:128&t&&"warning"},"latch_r_active"),r.a.createElement(Fe.a,{variant:256&t&&"warning"},"latch_r_inactive"),r.a.createElement(Fe.a,{variant:512&t&&"warning"},"en_latch_encoder"),r.a.createElement(Fe.a,{variant:1024&t&&"warning"},"sg_stop"),r.a.createElement(Fe.a,{variant:2048&t&&"warning"},"en_softstop"))},Me=function(e){var t=e.encoder_mode;return r.a.createElement("div",null,"encoder_mode:",r.a.createElement(Fe.a,{variant:1&t&&"warning"},"pol_A"),r.a.createElement(Fe.a,{variant:2&t&&"warning"},"pol_B"),r.a.createElement(Fe.a,{variant:4&t&&"warning"},"pol_N"),r.a.createElement(Fe.a,{variant:8&t&&"warning"},"ignore_AB"),r.a.createElement(Fe.a,{variant:16&t&&"warning"},"clr_cont"),r.a.createElement(Fe.a,{variant:32&t&&"warning"},"clr_once"),r.a.createElement(Fe.a,{variant:64&t&&"warning"},"pos_edge"),r.a.createElement(Fe.a,{variant:128&t&&"warning"},"neg_edge"),r.a.createElement(Fe.a,{variant:256&t&&"warning"},"clr_enc_x"),r.a.createElement(Fe.a,{variant:512&t&&"warning"},"latch_x_act"),r.a.createElement(Fe.a,{variant:1024&t&&"warning"},"enc_sel_decimal"))},Xe=function(e){var t=e.running,a=e.driver_position,n=e.encoder_position,o=e.velocity,c=e.switch_mode,i=e.encoder_mode,l=e.status,s=oe();return r.a.createElement(He,{title:"State"},"driver pos: ","".concat(a.toFixed(1))," ",", ","encoder pos: ","".concat(n.toFixed(1))," ",", ","velocity: ","".concat(o.toFixed(1)),t&&r.a.createElement(Fe.a,{variant:"info",size:"lg"},"running"),!t&&r.a.createElement(Fe.a,{variant:"light",size:"lg"},"ready"),r.a.createElement(ze.a,{variant:"secondary",onClick:function(e){console.log("stop"),s("stop")}},"Stop"),r.a.createElement(Be,{status:l}),r.a.createElement(De,{switch_mode:c}),r.a.createElement(Me,{encoder_mode:i}))},Ye=function(e){var t=e.show,a=e.message,n=e.handleClose,o=e.handleConfirm;return r.a.createElement(r.a.Fragment,null,r.a.createElement(pe.a,{show:t,onHide:n},r.a.createElement(pe.a.Header,{closeButton:!0},r.a.createElement(pe.a.Title,null,"Waring")),r.a.createElement(pe.a.Body,null,a),r.a.createElement(pe.a.Footer,null,r.a.createElement(ze.a,{variant:"secondary",onClick:n},"Cancel"),r.a.createElement(ze.a,{variant:"primary",onClick:function(){o&&o(),n()}},"Confirm"))))},Je=function(e){var t=e.running,a=e.actuator,o=e.hasHome,c=e.hasReleaseSwitch,i=e.hasSearchSwitch,l=e.hasGoToSwitchLatchPosition,s=e.hasSearchEncoderNSignal,u=e.hasGoToEncoderNSignal,m=e.hasGoToChamberOffsetPosition,f=e.hasSetHomePosition,E=e.hasShiftFromHome,p=e.hasFinishHome,g=e.hasSaveChamberOffsetPosition,h=e.hasSaveSyringeBottomPosition,b=oe(),y=Object(n.useState)(!1),v=Object(d.a)(y,2),j=v[0],O=v[1],S=function(){return O(!0)},C=Object(n.useState)(null),x=Object(d.a)(C,2),w=x[0],_=x[1],k=Object(n.useState)(""),N=Object(d.a)(k,2),T=N[0],H=N[1];return r.a.createElement(He,{title:"Home"},o&&r.a.createElement(ze.a,{variant:"outline-secondary",disabled:t,onClick:function(e){b("".concat(a," home"))}},"Home"),c&&r.a.createElement(ze.a,{variant:"outline-secondary",disabled:t,onClick:function(e){b("".concat(a," release_switch"))}},"Release Switch"),i&&r.a.createElement(ze.a,{variant:"outline-secondary",disabled:t,onClick:function(e){b("".concat(a," search_switch"))}},"Search Switch"),l&&r.a.createElement(ze.a,{variant:"outline-secondary",disabled:t,onClick:function(e){b("".concat(a," go_to_switch_latch_position"))}},"Go To Switch Latch Position"),s&&r.a.createElement(ze.a,{variant:"outline-secondary",disabled:t,onClick:function(e){b("".concat(a," search_encoder_n_signal"))}},"Search Encoder N Signal"),u&&r.a.createElement(ze.a,{variant:"outline-secondary",disabled:t,onClick:function(e){b("".concat(a," go_to_encoder_n_signal"))}},"Go To Encoder N Signal"),m&&r.a.createElement(ze.a,{variant:"outline-secondary",disabled:t,onClick:function(e){b("".concat(a," go_to_offset_position"))}},"Go To Chamber Offset Position"),f&&r.a.createElement(ze.a,{variant:"outline-secondary",disabled:t,onClick:function(e){b("".concat(a," set_home_position"))}},"Set Home Position"),E&&r.a.createElement(ze.a,{variant:"outline-secondary",disabled:t,onClick:function(e){b("".concat(a," shift_from_home"))}},"Shift From Home"),p&&r.a.createElement(ze.a,{variant:"outline-secondary",disabled:t,onClick:function(e){b("".concat(a," finish_home"))}},"Finish Home"),r.a.createElement(ze.a,{variant:"secondary",onClick:function(e){console.log("stop"),b("stop")}},"Stop"),g&&r.a.createElement(ze.a,{variant:"outline-secondary",disabled:t,onClick:function(e){H("Chamber offset position will be saved to file. Are you sure?"),_((function(){return function(){b("".concat(a," save_offset_position"),(function(){return alert("Chamber driver offset position has been saved to file.")}))}})),S()}},"Save Chamber Offset Position"),h&&r.a.createElement(ze.a,{variant:"outline-secondary",disabled:t,onClick:function(e){H("Syringe bottom position will be saved to file. Are you sure?"),_((function(){return function(){b("".concat(a," save_bottom_position"),(function(){return alert("Syringe driver bottom position has been saved to file.")}))}})),S()}},"Save Syringe Bottom Position"),r.a.createElement(Ye,{show:j,handleClose:function(){return O(!1)},handleConfirm:w,message:T}))},Ke=function(e){var t=e.running,a=e.actuator,n=e.unit,o=oe(),c="+1",i="+5",l="+10",s="-1",u="-5",m="-10";return"syringe"===a&&(c="down 1",i="down 5",l="down 10",s="up 1",u="up 5",m="up 10"),r.a.createElement(He,{title:"Jog"},r.a.createElement(ze.a,{variant:"outline-secondary",disabled:t,onClick:function(e){o("".concat(a," jog + 1"))}},c," ",n),r.a.createElement(ze.a,{variant:"outline-secondary",disabled:t,onClick:function(e){o("".concat(a," jog + 5"))}},i," ",n),r.a.createElement(ze.a,{variant:"outline-secondary",disabled:t,onClick:function(e){o("".concat(a," jog + 10"))}},l," ",n),r.a.createElement(ze.a,{variant:"outline-secondary",disabled:t,onClick:function(e){o("".concat(a," jog - 1"))}},s," ",n),r.a.createElement(ze.a,{variant:"outline-secondary",disabled:t,onClick:function(e){o("".concat(a," jog - 5"))}},u," ",n),r.a.createElement(ze.a,{variant:"outline-secondary",disabled:t,onClick:function(e){o("".concat(a," jog - 10"))}},m," ",n),r.a.createElement(ze.a,{variant:"secondary",onClick:function(e){console.log("stop"),o("stop")}},"Stop"))},We=function(e){var t=e.running,a=e.actuator,o=e.unit,c=Object(n.useState)(""),i=Object(d.a)(c,2),l=i[0],s=i[1],u=oe();return r.a.createElement(He,{title:"Position"},r.a.createElement(Pe.a,null,r.a.createElement(Re.a,{placeholder:"position",as:"input",value:l,onChange:function(e){return s(e.target.value)}}),r.a.createElement(ze.a,{variant:"outline-secondary",disabled:t,onClick:function(e){u("".concat(a," position ").concat(l))}},"Go [",o,"]"),r.a.createElement(ze.a,{variant:"secondary",onClick:function(e){console.log("stop"),u("stop")}},"Stop")))};function Ve(e,t,a){return{value:e,writable:t,hexDisplay:a,input:""}}var qe={gconf:Ve(0,!0,!0),gstat:Ve(0,!1,!0),ifcnt:Ve(0,!1,!0),slaveconf:Ve(0,!0,!1),ioin:Ve(0,!1,!0),x_comapre:Ve(0,!0,!1),ihold_irun:Ve(0,!0,!1),tpowerdown:Ve(0,!0,!1),tstep:Ve(0,!1,!0),tpwmthrs:Ve(0,!0,!1),tcoolthrrs:Ve(0,!0,!1),thigh:Ve(0,!0,!1),rampmode:Ve(0,!0,!0),xactual:Ve(0,!0,!0),vactual:Ve(0,!0,!1),vstart:Ve(0,!0,!1),a1:Ve(0,!0,!1),v1:Ve(0,!0,!1),amax:Ve(0,!0,!1),vmax:Ve(0,!0,!1),dmax:Ve(0,!0,!1),vstop:Ve(0,!0,!1),tzerowait:Ve(0,!0,!0),xtarget:Ve(0,!0,!1),vdcmin:Ve(0,!0,!1),sw_mode:Ve(0,!0,!0),ramp_stat:Ve(0,!1,!0),xlatch:Ve(0,!1,!1),encmode:Ve(0,!0,!0),x_enc:Ve(0,!0,!1),enc_const:Ve(0,!0,!1),enc_status:Ve(0,!1,!0),enc_latch:Ve(0,!1,!1),mslut0:Ve(0,!1,!1),mslut1:Ve(0,!1,!1),mslut2:Ve(0,!1,!1),mslut3:Ve(0,!1,!1),mslut4:Ve(0,!1,!1),mslut5:Ve(0,!1,!1),mslut6:Ve(0,!1,!1),mslut7:Ve(0,!1,!1),mslutsel:Ve(0,!1,!1),mslutstart:Ve(0,!1,!1),mscnt:Ve(0,!1,!0),mscuract:Ve(0,!1,!0),chopconf:Ve(0,!0,!1),coolconf:Ve(0,!0,!1),dcctrl:Ve(0,!0,!1),drvstatus:Ve(0,!1,!0),pwmconf:Ve(0,!0,!1),pwm_scale:Ve(0,!1,!0),encm_ctrl:Ve(0,!0,!1),lost_steps:Ve(0,!1,!0)},Ue=function(e){var t=e.name,a=e.info,o=e.running,c=e.actuator,i=Object(n.useState)(""),l=Object(d.a)(i,2),s=l[0],u=l[1],m=oe();return r.a.createElement(f.a,null,r.a.createElement(E.a,{xs:"3",md:"3"},t),r.a.createElement(E.a,{align:"right",xs:"3",md:"3"},a.hexDisplay?"0x".concat(a.value.toString(16)):"".concat(a.value)),r.a.createElement(E.a,{as:"input",xs:"3",md:"3",value:s,disabled:!a.writable,onChange:function(e){u(e.target.value)}}),r.a.createElement(E.a,{xs:"2",md:"2"},r.a.createElement(ze.a,{variant:"outline-secondary",disabled:o||!a.writable,onClick:function(e){m("set_register ".concat(c," ").concat(t," ").concat(s))}},"write")))},Ze=function(e){var t=e.actuator,a=e.running,n=e.registers;return Object.entries(n).forEach((function(e){var t=Object(d.a)(e,2),a=t[0],n=t[1];a in qe&&(qe[a].value=n)})),r.a.createElement(He,{title:"Registers"},r.a.createElement(f.a,{xs:"1",md:"2"},Object.entries(qe).map((function(e){var n=Object(d.a)(e,2),o=n[0],c=n[1];return r.a.createElement(E.a,{key:o},r.a.createElement(Ue,{name:o,info:c,running:a,actuator:t}))}))))},Qe=function(e){var t=e.running,a=oe();return r.a.createElement(He,{title:"Goto"},r.a.createElement(ze.a,{variant:"outline-secondary",disabled:t,onClick:function(e){a("chamber goto 1")}},"1"),r.a.createElement(ze.a,{variant:"outline-secondary",disabled:t,onClick:function(e){a("chamber goto 2")}},"2"),r.a.createElement(ze.a,{variant:"outline-secondary",disabled:t,onClick:function(e){a("chamber goto 3")}},"3"),r.a.createElement(ze.a,{variant:"outline-secondary",disabled:t,onClick:function(e){a("chamber goto 4")}},"4"),r.a.createElement(ze.a,{variant:"outline-secondary",disabled:t,onClick:function(e){a("chamber goto 5")}},"5"),r.a.createElement(ze.a,{variant:"outline-secondary",disabled:t,onClick:function(e){a("chamber goto 6")}},"6"),r.a.createElement(ze.a,{variant:"outline-secondary",disabled:t,onClick:function(e){a("chamber goto 7")}},"7"),r.a.createElement(ze.a,{variant:"outline-secondary",disabled:t,onClick:function(e){a("chamber goto 8")}},"8"),r.a.createElement(ze.a,{variant:"outline-secondary",disabled:t,onClick:function(e){a("chamber goto 9")}},"9"),r.a.createElement(ze.a,{variant:"outline-secondary",disabled:t,onClick:function(e){a("chamber goto 10")}},"10"),r.a.createElement(ze.a,{variant:"outline-secondary",disabled:t,onClick:function(e){a("chamber goto 11")}},"11"),r.a.createElement(ze.a,{variant:"outline-secondary",disabled:t,onClick:function(e){a("chamber goto 12")}},"12"),r.a.createElement(ze.a,{variant:"outline-secondary",disabled:t,onClick:function(e){a("chamber goto 13")}},"13"),r.a.createElement(ze.a,{variant:"secondary",onClick:function(e){console.log("stop"),a("stop")}},"Stop"))},$e=function(){var e=Object(n.useState)(0),t=Object(d.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(0),i=Object(d.a)(c,2),l=i[0],u=i[1],m=Object(n.useState)(0),p=Object(d.a)(m,2),g=p[0],h=p[1],b=Object(n.useState)(!1),y=Object(d.a)(b,2),v=y[0],j=y[1],O=Object(n.useState)(0),S=Object(d.a)(O,2),C=S[0],x=S[1],w=Object(n.useState)(0),_=Object(d.a)(w,2),k=_[0],N=_[1],T=Object(n.useState)(0),H=Object(d.a)(T,2),P=H[0],F=H[1],R=Object(n.useState)({}),z=Object(d.a)(R,2),I=z[0],L=z[1],A=oe(),G=function(){A("get_chamber_status",(function(e){o(e.driver_position),u(e.encoder_position),h(e.velocity),j(e.running),x(e.registers.ramp_stat),N(e.registers.sw_mode),F(e.registers.encmode),L(e.registers)}))};return Object(n.useEffect)((function(){var e=setInterval(G,500);return function(){clearInterval(e)}}),[]),r.a.createElement(s.a,null,r.a.createElement(f.a,{className:"justify-content-center"},r.a.createElement(E.a,{md:"6"},r.a.createElement(Xe,{running:v,driver_position:a,encoder_position:l,velocity:g,status:C,switch_mode:k,encoder_mode:P})),r.a.createElement(E.a,{md:"6"},r.a.createElement(Je,{running:v,actuator:"chamber",hasHome:!0,hasSearchEncoderNSignal:!0,hasGoToEncoderNSignal:!0,hasGoToChamberOffsetPosition:!0,hasSetHomePosition:!0,hasShiftFromHome:!0,hasFinishHome:!0,hasSaveChamberOffsetPosition:!0})),r.a.createElement(E.a,{md:"6"},r.a.createElement(Ke,{running:v,actuator:"chamber",unit:"deg"})),r.a.createElement(E.a,{md:"6"},r.a.createElement(Qe,{running:v})),r.a.createElement(E.a,{md:"6"},r.a.createElement(We,{running:v,actuator:"chamber",unit:"deg"}))),r.a.createElement(f.a,null,r.a.createElement(E.a,{xs:"12",md:"12"},r.a.createElement(Ze,{actuator:"chamber",running:v,registers:I}))))},et=function(e){var t=e.running,a=Object(n.useState)(""),o=Object(d.a)(a,2),c=o[0],i=o[1],l=oe();return r.a.createElement(He,{title:"volume"},r.a.createElement(Pe.a,null,r.a.createElement(Re.a,{placeholder:"volume",as:"input",value:c,onChange:function(e){return i(e.target.value)}}),r.a.createElement(ze.a,{variant:"outline-secondary",disabled:t,onClick:function(e){l("syringe volume ".concat(c))}},"Go [uL]"),r.a.createElement(ze.a,{variant:"secondary",onClick:function(e){console.log("stop"),l("stop")}},"Stop")))},tt=function(){var e=Object(n.useState)(0),t=Object(d.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(0),i=Object(d.a)(c,2),l=i[0],u=i[1],m=Object(n.useState)(0),p=Object(d.a)(m,2),g=p[0],h=p[1],b=Object(n.useState)(!1),y=Object(d.a)(b,2),v=y[0],j=y[1],O=Object(n.useState)(0),S=Object(d.a)(O,2),C=S[0],x=S[1],w=Object(n.useState)(0),_=Object(d.a)(w,2),k=_[0],N=_[1],T=Object(n.useState)({}),H=Object(d.a)(T,2),P=H[0],F=H[1],R=oe(),z=function(){R("get_syringe_status",(function(e){o(e.driver_position),u(e.encoder_position),h(e.velocity),j(e.running),x(e.registers.ramp_stat),N(e.registers.sw_mode),F(e.registers)}))};return Object(n.useEffect)((function(){var e=setInterval(z,500);return function(){clearInterval(e)}}),[]),r.a.createElement(s.a,null,r.a.createElement(f.a,{className:"justify-content-center"},r.a.createElement(E.a,{md:"6"},r.a.createElement(Xe,{running:v,driver_position:a,encoder_position:l,velocity:g,status:C,switch_mode:k})),r.a.createElement(E.a,{md:"6"},r.a.createElement(Je,{running:v,actuator:"syringe",hasHome:!0,hasReleaseSwitch:!0,hasSearchSwitch:!0,hasGoToSwitchLatchPosition:!0,hasSearchEncoderNSignal:!0,hasGoToEncoderNSignal:!0,hasSetHomePosition:!0,hasShiftFromHome:!0,hasFinishHome:!0,hasSaveSyringeBottomPosition:!0})),r.a.createElement(E.a,{md:"6"},r.a.createElement(Ke,{running:v,actuator:"syringe",unit:"mm"})),r.a.createElement(E.a,{md:"6"},r.a.createElement(We,{running:v,actuator:"syringe",unit:"mm"})),r.a.createElement(E.a,{md:"6"},r.a.createElement(et,{running:v}))),r.a.createElement(f.a,null,r.a.createElement(E.a,{xs:"12",md:"12"},r.a.createElement(Ze,{actuator:"syringe",running:v,registers:P}))))},at=function(){var e=Object(n.useState)(0),t=Object(d.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(0),i=Object(d.a)(c,2),l=i[0],u=i[1],m=Object(n.useState)(0),p=Object(d.a)(m,2),g=p[0],h=p[1],b=Object(n.useState)(!1),y=Object(d.a)(b,2),v=y[0],j=y[1],O=Object(n.useState)(0),S=Object(d.a)(O,2),C=S[0],x=S[1],w=Object(n.useState)(0),_=Object(d.a)(w,2),k=_[0],N=_[1],T=Object(n.useState)({}),H=Object(d.a)(T,2),P=H[0],F=H[1],R=oe(),z=function(){R("get_filter_status",(function(e){o(e.driver_position),u(e.encoder_position),h(e.velocity),j(e.running),x(e.registers.ramp_stat),N(e.registers.sw_mode),F(e.registers)}))};return Object(n.useEffect)((function(){var e=setInterval(z,500);return function(){clearInterval(e)}}),[]),r.a.createElement(s.a,null,r.a.createElement(f.a,{className:"justify-content-center"},r.a.createElement(E.a,{md:"6"},r.a.createElement(Xe,{running:v,driver_position:a,encoder_position:l,velocity:g,status:C,switch_mode:k})),r.a.createElement(E.a,{md:"6"},r.a.createElement(Je,{running:v,actuator:"filter",hasHome:!0,hasReleaseSwitch:!0,hasSearchSwitch:!0,hasGoToSwitchLatchPosition:!0,hasSetHomePosition:!0,hasShiftFromHome:!0,hasFinishHome:!0})),r.a.createElement(E.a,{md:"6"},r.a.createElement(Ke,{running:v,actuator:"filter",unit:"deg"})),r.a.createElement(E.a,{md:"6"},r.a.createElement(We,{running:v,actuator:"filter",unit:"deg"}))),r.a.createElement(f.a,null,r.a.createElement(E.a,{xs:"12",md:"12"},r.a.createElement(Ze,{actuator:"filter",running:v,registers:P}))))},nt=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],o=t[1],c=oe(),i=function(){c("get_magnet_status",(function(e){o(e.running)}))};return Object(n.useEffect)((function(){var e=setInterval(i,500);return function(){clearInterval(e)}}),[]),r.a.createElement(s.a,null,r.a.createElement(f.a,{className:"justify-content-center"},r.a.createElement(E.a,{md:"6"},r.a.createElement(He,{title:"Home"},a&&r.a.createElement(Fe.a,{variant:"info",size:"lg"},"running"),!a&&r.a.createElement(Fe.a,{variant:"light",size:"lg"},"ready"),r.a.createElement(ze.a,{variant:"outline-secondary",disabled:a,onClick:function(e){c("magnet on")}},"On"),r.a.createElement(ze.a,{variant:"outline-secondary",disabled:a,onClick:function(e){c("magnet off")}},"Off"),r.a.createElement(ze.a,{variant:"outline-secondary",disabled:a,onClick:function(e){c("magnet home")}},"Home"),r.a.createElement(ze.a,{variant:"secondary",onClick:function(e){c("stop")}},"Stop")))))},rt=a(1382),ot=a(113),ct=function(){return r.a.createElement(rt.a,{variant:"pills",defaultActiveKey:"/",style:{marginBottom:"10px"}},r.a.createElement(rt.a.Item,null,r.a.createElement(ot.LinkContainer,{to:"/main"},r.a.createElement(rt.a.Link,{eventKey:"/main"},"Main"))),r.a.createElement(rt.a.Item,null,r.a.createElement(ot.LinkContainer,{to:"/protocol"},r.a.createElement(rt.a.Link,{eventKey:"protocol"},"Protocol"))),r.a.createElement(rt.a.Item,null,r.a.createElement(ot.LinkContainer,{to:"/chamber"},r.a.createElement(rt.a.Link,{eventKey:"chamber"},"Chamber"))),r.a.createElement(rt.a.Item,null,r.a.createElement(ot.LinkContainer,{to:"/syringe"},r.a.createElement(rt.a.Link,{eventKey:"syringe",href:"/syringe"},"Syringe"))),r.a.createElement(rt.a.Item,null,r.a.createElement(ot.LinkContainer,{to:"/filter"},r.a.createElement(rt.a.Link,{eventKey:"filter",href:"/filter"},"Filter"))),r.a.createElement(rt.a.Item,null,r.a.createElement(ot.LinkContainer,{to:"/magnet"},r.a.createElement(rt.a.Link,{eventKey:"magnet",href:"/magnet"},"Magnet"))))};c.a.render(r.a.createElement(m,null,r.a.createElement(i.BrowserRouter,null,r.a.createElement(ct,null),r.a.createElement(l.g,null,r.a.createElement(l.d,{exact:!0,path:"/",component:ue}),r.a.createElement(l.d,{path:"/main",component:ue}),r.a.createElement(l.d,{exact:!0,path:"/setup",component:Se}),r.a.createElement(l.d,{path:"/editor/:name",component:Ne}),r.a.createElement(l.d,{path:"/protocol",component:Ge}),r.a.createElement(l.d,{path:"/chamber",component:$e}),r.a.createElement(l.d,{path:"/syringe",component:tt}),r.a.createElement(l.d,{path:"/filter",component:at}),r.a.createElement(l.d,{path:"/magnet",component:nt})))),document.getElementById("root"))},588:function(e,t,a){e.exports=a(1366)},869:function(e,t){}},[[588,1,2]]]);
//# sourceMappingURL=main.09e6ffc2.chunk.js.map